@using TellarknightApp.Services
@using TellarknightApp.Models
@inject SupportedCards supportedCards

<div class="app-grid-container">
    <div class="grid-search">
        <input id="searchQuery" type="text" @bind-value="searchQuery" class="search-input" />
        <button class="btn btn-primary" @onclick="@(() => CardSearch())">Search</button>
    </div>
    <div class="item grid-search-other">
        grid-search-other
    </div>
    <div class="item grid-cards">

        <div class="card-container">
            @foreach (Card card in supportedCards.Cards.Where(x => x.Name.ToLower().Contains(searchQuery.ToLower())))
            {
                <div class="grid-item">
                    <img src="@card.Image" alt="@card.Name" class="item-image" />
                    <input type="text" class="item-input" @bind="card.Quantity" />
                </div>
            }
        </div>

    </div>
</div>

@code {
    private string searchQuery = "unuk";

    public async void CardSearch()
    {
        await OnInitializedAsync();
    }
}
